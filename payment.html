<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Payment</title>
  <!-- CSS -->
  <link rel="stylesheet" href="index.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.css" />
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css" />
  <!-- Default theme -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/default.min.css" />
  <!-- Semantic UI theme -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/semantic.min.css" />
  <!-- cdn Awesome icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

</head>

<body style="background-color:rgb(225, 235, 244);">
  <header>
    <!-- ----------------header---------------------- -->
    <div class="container-fluid fixed-ontop">
      <div class="row align-items-center">
        <nav class="nav-1-header">
          <a href="./index.html"><img class="logo img-fluid" src="./Images/Logo/Logo.png" alt="logo" /></a>
          <input id="searchInput" class="searchinput-nav-1-header" type="text" placeholder="Search..." />
          <button class="btn btn-primary" type="submit">Search</button>
          <a href="./payment.html"><img class="addcart-nav-1-header" src="./Images/icon/addcart.png"
              alt="add cart" /></a>
          <form>
            <div><a href="log_in.html" class="login-nav-1-header" id="loginShow">Log in</a></div>
            <div><a href="" class="login-nav-1-header" id="logoutButton">Log Out</a></div>
          </form>
        </nav>

      </div>
    </div>
    <!-- ----------------navbar---------------------- -->
    <nav class="nav-2-header">
      <a href="./index.html" class="active">Home</a>
      <div class="btn-group">
        <button type="button" class="btn-danger dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
          Fitness
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="./cycling.html">Cycling</a></li>
          <li>
            <a class="dropdown-item" href="./swimming.html">Swimming</a>
          </li>
          <li><a class="dropdown-item" href="./bodyFit.html">Body Fit</a></li>
          <li>
            <hr class="divider" />
          </li>
          <li>
            <a class="dropdown-item" href="./sexy-dance.html">Sexy Dance</a>
          </li>
          <li><a class="dropdown-item" href="./zumba.html">Zumba</a></li>
          <li>
            <hr class="divider" />
          </li>
          <li><a class="dropdown-item" href="./spa.html">Spa</a></li>
        </ul>
      </div>

      <a href="./groupX.html" class="active">Group X </a>
      <a href="./memberShip.html" class="active">Membership</a>
      <a href="./aboutus.html" class="active">About Us</a>
      <a href="./faq.html" class="active">FAQ's</a>
      <a href="./contact.html" class="active">Contact Us</a>
    </nav>
  </header>
  <!-- ----------------Main---------------------- -->
  <main>
    <!--Scroll to Top -->
    <button onclick="topFunction()" id="scrollBtn" title="Go to top" style="display: none;">Top</button>
    <p class="font-head-title-center">Your Cart</p>

    <div class="payment">
      <form action="" oninput="total.value = parseInt(product.value) * parseInt(qty.value)">
        <table>
          <!-- row 1 -->
          <tr>
            <td>
              <label class="td-table-left" for="membername">Member Name:</label>
            </td>
            <td>
              <input class="td-table-left" type="text" id="membername" placeholder="Tommy1A" size="30" autofocus />
            </td>
          </tr>
          <!-- row 2 -->
          <tr>
            <td>
              <label class="td-table-left" for="fullname">Full Name:<span style="color: red">*</span></label>
            </td>
            <td>
              <input class="td-table-left-creat" type="text" name="fullname" id="fullname" size="30" required />
            </td>
          </tr>
          <!-- row 3 -->
          <tr>
            <td class="td-table-left">
              <label class="td-table-left" for="email-contact">Email:<span style="color: red">*</span></label>
            </td>
            <td>
              <input class="td-table-left" type="text" id="email-contact" placeholder="Enter your email" size="30"
                pattern="\w+@\w+\.[a-z]{2,3}" required />

            </td>
          </tr>
          <!-- row 4 -->
          <tr>
            <td class="td-table-left">
              <label class="td-table-left" for="phone">Phone:<span style="color: red">*</span></label>
            </td>
            <td>
              <input class="td-table-left" type="text" id="phone" size="30" required />
            </td>
          </tr>
          <!-- row 5 -->
          <tr>
            <td class="td-table-left-creat">Gender:</td>
            <td style="font-size: 1.32vw; font-weight: lighter;" id="gender">
              <input type="radio" name="gender" value="Male" checked />Male
              <input type="radio" name="gender" value="Female" />Female
            </td>
          </tr>
          <!-- row 6 -->
          <tr>
            <td class="td-table-left-creat">Select Product:</td>
            <td style="font-size: 1.32vw; font-weight: lighter;">
              <select name="product" id="product">
                <option value="10">Silver</option>
                <option value="20">Gold</option>
                <option value="40">Diamond</option>
              </select>
            </td>
          </tr>
          <!-- row 7 -->
          <tr>
            <td class="td-table-left-creat">Quantity:</td>
            <td style="font-size: 1.32vw; font-weight: lighter;">
              <select name="qty" id="qty">
                <option value="1">3 Month</option>
                <option value="2">6 Month</option>
                <option value="3">1 Year</option>
              </select>
            </td>
          </tr>
          <!-- row 8 -->
          <tr>
            <td></td>
            <td class="td-table-left-creat" style="font-weight: bolder;">Total: $<output name="total"></output> USD</td>

          </tr>
          <!-- row 9 -->
          <tr>
            <td class="td-table-left-creat">Payment methods:</td>
            <td style="font-size: 1.32vw; font-weight: lighter;">
              <input type="checkbox" checked> COD
            </td>
          </tr>
          <!-- row 10 -->
          <tr>
            <td class="td-table-left">
              <label class="td-table-left" for="description-contact">Description:
              </label>
            </td>
            <td>
              <textarea class="td-table-left" name="description-contact" id="content" cols="30" rows="5"></textarea>
            </td>
          </tr>

          <tr>
            <td colspan="2" class="font-content-center">
              <div class="btn btn-primary" onclick="displayFormData()" style="font-size: 1.32vw;">Submit</div>
              <div class="btn btn-primary" onclick="cancel()" style="font-size: 1.32vw;"></a>Cancel</div>
            </td>
        </table>
      </form>
    </div>

    </div>
  </main>
  <!-- ----------------foter---------------------- -->
  <footer class="footer">
    <div class="column-1-footer">
      <div class="col-auto">
        <a href="./index.html"><img class="logo img-fluid" src="./Images/Logo/Logo.png" alt="logo" /></a>
      </div>
      <div class="col-1-footer">
        <a href="tel:+84123456789" class="col-1-footer-content">
          <img class="icon-footer" src="./Images/icon/telephone.png" alt="Telephone" />
          +84 123 456 789
        </a>
      </div>
      <div class="col-1-footer">
        <img class="icon-footer" src="./Images/icon/email.png" alt="Email" />
        <a href="mailto: primefitness@gmail.com?subject=ask html" class="col-1-footer-content">
          primefitness@gmail.com</a>
      </div>
      <div class="col-1-footer">
        <img class="icon-footer" src="./Images/icon/open-sign.png" alt="opening" />
        4:30 am - 10:30 pm
      </div>
    </div>
    <div class="column-2-footer">
      <div>
        <a href="./aboutus.html" class="active link-column-2-footer">About Us</a>
        <br>
        <br>
        <a href="./contact.html" class="active link-column-2-footer">Contact Us</a>
        <br>
        <br>
        <a href="./groupX.html" class="active link-column-2-footer">Group X</a>
        <br>
        <br>
        <a href="./privacyPolicy.html" class="active link-column-2-footer">Privacy Policy</a>
      </div>
    </div>
    <div class="column-3-footer">
      <div>
        <iframe class="map-google"
          src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d3919.3221623584177!2d106.666276!3d10.786619000000002!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMTDCsDQ3JzExLjgiTiAxMDbCsDM5JzU4LjYiRQ!5e0!3m2!1svi!2s!4v1711216657941!5m2!1svi!2s"
          frameborder="0"></iframe>
        <div class="col-3-footer">
          <a href="" class="col-3-footer-content">
            <img class="icon-2-footer" src="./Images/icon/facebook.png" alt="facebook" />
          </a>
          <a href="" class="col-3-footer-content">
            <img class="icon-2-footer" src="./Images/icon/instagram.png" alt="instagram" />
          </a>
          <a href="" class="col-3-footer-content">
            <img class="icon-2-footer" src="./Images/icon/google.png" alt="Google" />
          </a>
        </div>
      </div>
    </div>
  </footer>
  <p class="copyright">&copy;Copyright 2024 by Prime Fitness</p>

</body>
<!-- JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="index.js"></script>
<script src="createAcc.js"></script>
<script>
  window.onload = function () {
    // Lấy đối tượng select
    var selectProduct = document.getElementById("product");
    var selectqty = document.getElementById("qty");
    // Lấy đối tượng output
    var outputTotal = document.getElementsByName("total")[0];

    // Gán sự kiện cho selectProduct
    selectProduct.onchange = function () {
      // Lấy giá trị của gói sản phẩm được chọn
      var productValue = parseInt(selectProduct.value);
      // Gán giá trị của Total là giá trị của gói Silver
      outputTotal.value = parseInt(selectProduct.value) * parseFloat(selectqty.value)
    };
    selectqty.onchange = function () {
      // Lấy giá trị của gói sản phẩm được chọn
      var qtyValue = parseInt(selectqty.value);
      // Gán giá trị của Total là giá trị của gói Silver
      outputTotal.value = parseInt(selectProduct.value) * parseFloat(selectqty.value)
    };
    // Gán giá trị mặc định cho Total là giá trị của gói Silver khi trang web được tải lần đầu
    outputTotal.value = parseInt(selectProduct.value) * parseFloat(selectqty.value);
  };

  function displayFormData() {
    // Lấy giá trị từ các trường form
    var memberName = document.getElementById("membername").value;
    var fullName = document.getElementById("fullname").value;
    var email = document.getElementById("email-contact").value;
    var phone = document.getElementById("phone").value;
    var gender = document.querySelector('input[name="gender"]:checked')
      ? document.querySelector('input[name="gender"]:checked').value
      : "";
    var product = document.getElementById("product").options[document.getElementById("product").selectedIndex].text;
    var quantity = document.getElementById("qty").options[document.getElementById("qty").selectedIndex].text;
    var total = document.getElementsByName("total")[0].value;
    var description = document.getElementById("content").value.trim();

    // Kiểm tra xem các trường đã được nhập hay chưa
    if (fullName === "") {
      Swal.fire({
        title: " Incorrect",
        text: "Please fill in the 'Full Name' field.",
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Try again",
      })
      document.getElementById("fullname").focus();
      return false;
    } else if (!isValidEmail(email)) {
      Swal.fire({
        title: " Incorrect",
        text: "Please fill in the 'Email' field. ex: exmple@gmail.com",
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Try again",
      })
      document.getElementById("email-contact").focus();
      return false;

    } else if (phone.length < 10) {
      Swal.fire({
        title: " Incorrect",
        text: "Please fill in the 'Phone' field. 10-12 digits are required.",
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Try again",
      })
      document.getElementById("phone").focus();
      return false;
    } else {
      var formPayment = {
        memberName: memberName,
        fullName: fullName,
        email: email,
        phone: phone,
        gender: gender,
        product: product,
        quantity: quantity,
        total: total,
        description: description
      };
      localStorage.setItem('formPayment', JSON.stringify(formPayment));
      Swal.fire({
        title: "Your Cart:",
        html: "<table style='width:100%; text-align: left;'>" +
          "<tr><td>Member Name:</td><td>" + memberName + "</td></tr>" +
          "<tr><td>Full Name:</td><td>" + fullName + "</td></tr>" +
          "<tr><td>Email:</td><td>" + email + "</td></tr>" +
          "<tr><td>Phone:</td><td>" + phone + "</td></tr>" +
          "<tr><td>Gender:</td><td>" + gender + "</td></tr>" +
          "<tr><td>Product:</td><td>" + product + "</td></tr>" +
          "<tr><td>Quantity:</td><td>" + quantity + "</td></tr>" +
          "<tr><td>Total:</td><td>" + "$ " + total + " USD" + "</td></tr>" +
          "<tr><td>Description:</td><td>" + description + "</td></tr></table>",
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Yes, send it!",
      }).then((result) => {
        if (result.isConfirmed) {
          // Hiển thị thông báo "Sending..." và sau đó chuyển hướng đến trang index.html
          Swal.fire({
            title: "Sending....",
            text: "Your form has been submitted",
            icon: "success",
          }).then(() => {
            // Chuyển hướng đến trang index.html
            window.location.href = "index.html";
          });
        }
      });
    }
  }
  document.addEventListener("DOMContentLoaded", function () {
    // data localStorage tồn tại chưa
    if (localStorage.getItem('formData')) {
      // Lấy dữ liệu
      var formData = JSON.parse(localStorage.getItem('formData'));
      // Điền dữ liệu vào các trường nhập liệu
      document.getElementById("membername").value = formData.membername;
    }
  });
</script>


</html>